{"version":3,"file":"tenant-info.js","sources":["pages/tenant-info/tenant-info.vue","pages/tenant-info/tenant-info.vue?type=page"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <form @submit=\"saveTenant\" v-if=\"!loading\">\r\n      <!-- ÁßüÊà∑‰ø°ÊÅØË°®Âçï -->\r\n      <view class=\"form-section\">\r\n        <view class=\"section-title\">ÁßüÊà∑‰ø°ÊÅØ</view>\r\n        \r\n        <view class=\"form-item\">\r\n          <view class=\"form-label\">ÂßìÂêç *</view>\r\n          <input \r\n            class=\"form-input\"\r\n            v-model=\"formData.name\"\r\n            placeholder=\"ËØ∑ËæìÂÖ•ÁßüÊà∑ÂßìÂêç\"\r\n          />\r\n        </view>\r\n        \r\n        <view class=\"form-item\">\r\n          <view class=\"form-label\">Ë∫´‰ªΩËØÅÂè∑ *</view>\r\n          <input \r\n            class=\"form-input\"\r\n            v-model=\"formData.id_card\"\r\n            placeholder=\"ËØ∑ËæìÂÖ•Ë∫´‰ªΩËØÅÂè∑\"\r\n          />\r\n        </view>\r\n        \r\n        <view class=\"form-item\">\r\n          <view class=\"form-label\">ËÅîÁ≥ªÁîµËØù *</view>\r\n          <input \r\n            class=\"form-input\"\r\n            v-model=\"formData.phone\"\r\n            type=\"number\"\r\n            placeholder=\"ËØ∑ËæìÂÖ•ËÅîÁ≥ªÁîµËØù\"\r\n          />\r\n        </view>\r\n        \r\n        <view class=\"form-item\">\r\n          <view class=\"form-label\">ÁßüÊúüÂºÄÂßãÊó•Êúü *</view>\r\n          <picker \r\n            mode=\"date\" \r\n            :value=\"formData.rent_start_date\" \r\n            @change=\"onStartDateChange\"\r\n          >\r\n            <view class=\"picker-input\">\r\n              {{ formData.rent_start_date || 'ËØ∑ÈÄâÊã©ÂºÄÂßãÊó•Êúü' }}\r\n              <text class=\"arrow\">‚ñº</text>\r\n            </view>\r\n          </picker>\r\n        </view>\r\n        \r\n        <view class=\"form-item\">\r\n          <view class=\"form-label\">ÁßüÊúüÁªìÊùüÊó•Êúü *</view>\r\n          <picker \r\n            mode=\"date\" \r\n            :value=\"formData.rent_end_date\" \r\n            @change=\"onEndDateChange\"\r\n          >\r\n            <view class=\"picker-input\">\r\n              {{ formData.rent_end_date || 'ËØ∑ÈÄâÊã©ÁªìÊùüÊó•Êúü' }}\r\n              <text class=\"arrow\">‚ñº</text>\r\n            </view>\r\n          </picker>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- Ê∞¥ÁîµË°®ËØªÊï∞ -->\r\n      <view class=\"form-section\">\r\n        <view class=\"section-title\">‚ö° ÂÖ•‰ΩèÊ∞¥ÁîµË°®ËØªÊï∞</view>\r\n        <view class=\"section-note\">ËØ∑ËÆ∞ÂΩïÂÖ•‰ΩèÊó∂ÁöÑÊ∞¥ÁîµË°®ËØªÊï∞ÔºåÁî®‰∫éÂêéÁª≠ËÆ°Ë¥π</view>\r\n        \r\n        <view class=\"utility-grid\">\r\n          <view class=\"utility-item\">\r\n            <text class=\"utility-label\">ÁîµË°®ËØªÊï∞</text>\r\n            <view class=\"utility-input-group\">\r\n              <input \r\n                class=\"utility-input\" \r\n                v-model=\"formData.electricity_reading\" \r\n                type=\"digit\"\r\n                placeholder=\"0\"\r\n              />\r\n              <text class=\"utility-unit\">Â∫¶</text>\r\n            </view>\r\n          </view>\r\n          <view class=\"utility-item\">\r\n            <text class=\"utility-label\">Ê∞¥Ë°®ËØªÊï∞</text>\r\n            <view class=\"utility-input-group\">\r\n              <input \r\n                class=\"utility-input\" \r\n                v-model=\"formData.water_reading\" \r\n                type=\"digit\"\r\n                placeholder=\"0\"\r\n              />\r\n              <text class=\"utility-unit\">Âê®</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- ÁßüËµÅ‰ø°ÊÅØ -->\r\n      <view class=\"form-section\">\r\n        <view class=\"section-title\">üí∞ ÁßüËµÅ‰ø°ÊÅØ</view>\r\n        \r\n        <view class=\"form-item\" v-if=\"roomInfo\">\r\n          <view class=\"form-label\">ÊàøÈó¥Âè∑</view>\r\n          <input \r\n            class=\"form-input\"\r\n            :value=\"roomInfo.room_number\"\r\n            disabled\r\n          />\r\n        </view>\r\n        \r\n        <view class=\"form-item\">\r\n          <view class=\"form-label\">ÊúàÁßüÈáë *</view>\r\n          <input \r\n            class=\"form-input\"\r\n            v-model.number=\"formData.rent_price\"\r\n            type=\"digit\"\r\n            placeholder=\"ËØ∑ËæìÂÖ•ÊúàÁßüÈáë\"\r\n          />\r\n        </view>\r\n        \r\n        <view class=\"form-item\">\r\n          <view class=\"form-label\">ÊäºÈáë</view>\r\n          <input \r\n            class=\"form-input\"\r\n            v-model.number=\"formData.deposit\"\r\n            type=\"digit\"\r\n            placeholder=\"ËØ∑ËæìÂÖ•ÊäºÈáëÈáëÈ¢ù\"\r\n          />\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Êìç‰ΩúÊåâÈíÆ -->\r\n      <view class=\"form-actions\">\r\n        <button class=\"btn-cancel\" @click=\"cancel\">ÂèñÊ∂à</button>\r\n        <button class=\"btn-save\" @click=\"saveTenant\">‰øùÂ≠ò</button>\r\n      </view>\r\n    </form>\r\n\r\n    <!-- Âä†ËΩΩÁä∂ÊÄÅ -->\r\n    <view class=\"loading\" v-if=\"loading\">\r\n      <text>Âä†ËΩΩ‰∏≠...</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      roomId: '',\r\n      roomInfo: null,\r\n      formData: {\r\n        name: '',\r\n        id_card: '',\r\n        phone: '',\r\n        rent_start_date: '',\r\n        rent_end_date: '',\r\n        rent_price: '',\r\n        deposit: '',\r\n        electricity_reading: '0',\r\n        water_reading: '0'\r\n      }\r\n    }\r\n  },\r\n  \r\n  onLoad(options) {\r\n    if (options.roomId) {\r\n      this.roomId = options.roomId;\r\n      this.loadRoomInfo();\r\n    } else {\r\n      this.loading = false;\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    // Âä†ËΩΩÊàøÈó¥‰ø°ÊÅØ\r\n    async loadRoomInfo() {\r\n      try {\r\n        const result = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'getRoomById',\r\n            data: { id: this.roomId }\r\n          }\r\n        });\r\n        \r\n        if (result.result.code === 0) {\r\n          this.roomInfo = result.result.data;\r\n          \r\n          // Â¶ÇÊûúÊàøÈó¥Â∑≤ÊúâÁßüÊà∑ÔºåÂä†ËΩΩÁßüÊà∑‰ø°ÊÅØËøõË°åÁºñËæë\r\n          if (this.roomInfo.tenant_info) {\r\n            this.formData = {\r\n              name: this.roomInfo.tenant_info.name || '',\r\n              id_card: this.roomInfo.tenant_info.id_card || '',\r\n              phone: this.roomInfo.tenant_info.phone || '',\r\n              rent_start_date: this.formatDateForPicker(this.roomInfo.tenant_info.rent_start_date),\r\n              rent_end_date: this.formatDateForPicker(this.roomInfo.tenant_info.rent_end_date)\r\n            };\r\n            \r\n            uni.setNavigationBarTitle({\r\n              title: 'ÁºñËæëÁßüÊà∑‰ø°ÊÅØ'\r\n            });\r\n          } else {\r\n            uni.setNavigationBarTitle({\r\n              title: 'Ê∑ªÂä†ÁßüÊà∑‰ø°ÊÅØ'\r\n            });\r\n          }\r\n        } else {\r\n          uni.showToast({\r\n            title: result.result.message,\r\n            icon: 'none'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Âä†ËΩΩÊàøÈó¥‰ø°ÊÅØÂ§±Ë¥•:', error);\r\n        uni.showToast({\r\n          title: 'Âä†ËΩΩÂ§±Ë¥•',\r\n          icon: 'none'\r\n        });\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    // ÂºÄÂßãÊó•ÊúüÈÄâÊã©\r\n    onStartDateChange(e) {\r\n      this.formData.rent_start_date = e.detail.value;\r\n    },\r\n    \r\n    // ÁªìÊùüÊó•ÊúüÈÄâÊã©\r\n    onEndDateChange(e) {\r\n      this.formData.rent_end_date = e.detail.value;\r\n    },\r\n    \r\n    // Ê†ºÂºèÂåñÊó•Êúü‰∏∫pickerÈúÄË¶ÅÁöÑÊ†ºÂºè\r\n    formatDateForPicker(timestamp) {\r\n      if (!timestamp) return '';\r\n      const date = new Date(timestamp);\r\n      const year = date.getFullYear();\r\n      const month = String(date.getMonth() + 1).padStart(2, '0');\r\n      const day = String(date.getDate()).padStart(2, '0');\r\n      return `${year}-${month}-${day}`;\r\n    },\r\n    \r\n    // Ë°®ÂçïÈ™åËØÅ\r\n    validateForm() {\r\n      if (!this.formData.name.trim()) {\r\n        uni.showToast({\r\n          title: 'ËØ∑ËæìÂÖ•ÁßüÊà∑ÂßìÂêç',\r\n          icon: 'none'\r\n        });\r\n        return false;\r\n      }\r\n      \r\n      if (!this.formData.id_card.trim()) {\r\n        uni.showToast({\r\n          title: 'ËØ∑ËæìÂÖ•Ë∫´‰ªΩËØÅÂè∑',\r\n          icon: 'none'\r\n        });\r\n        return false;\r\n      }\r\n      \r\n      // ÁÆÄÂçïÁöÑË∫´‰ªΩËØÅÂè∑È™åËØÅ\r\n      if (!/^\\d{17}[\\dXx]$/.test(this.formData.id_card)) {\r\n        uni.showToast({\r\n          title: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑË∫´‰ªΩËØÅÂè∑',\r\n          icon: 'none'\r\n        });\r\n        return false;\r\n      }\r\n      \r\n      if (!this.formData.phone.trim()) {\r\n        uni.showToast({\r\n          title: 'ËØ∑ËæìÂÖ•ËÅîÁ≥ªÁîµËØù',\r\n          icon: 'none'\r\n        });\r\n        return false;\r\n      }\r\n      \r\n      \r\n      if (!this.formData.rent_start_date) {\r\n        uni.showToast({\r\n          title: 'ËØ∑ÈÄâÊã©ÁßüÊúüÂºÄÂßãÊó•Êúü',\r\n          icon: 'none'\r\n        });\r\n        return false;\r\n      }\r\n      \r\n      if (!this.formData.rent_end_date) {\r\n        uni.showToast({\r\n          title: 'ËØ∑ÈÄâÊã©ÁßüÊúüÁªìÊùüÊó•Êúü',\r\n          icon: 'none'\r\n        });\r\n        return false;\r\n      }\r\n      \r\n      if (!this.formData.rent_price || this.formData.rent_price <= 0) {\r\n        uni.showToast({\r\n          title: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑÊúàÁßüÈáë',\r\n          icon: 'none'\r\n        });\r\n        return false;\r\n      }\r\n      \r\n      return true;\r\n    },\r\n    \r\n    // ‰øùÂ≠òÁßüÊà∑‰ø°ÊÅØ\r\n    async saveTenant() {\r\n      if (!this.validateForm()) return;\r\n      \r\n      uni.showLoading({\r\n        title: '‰øùÂ≠ò‰∏≠...'\r\n      });\r\n      \r\n      try {\r\n        // ÂÖàÂàõÂª∫ÁßüÊà∑\r\n        const tenantData = {\r\n          name: this.formData.name.trim(),\r\n          id_card: this.formData.id_card.trim(),\r\n          phone: this.formData.phone.trim(),\r\n          status: 'active'\r\n        };\r\n        \r\n        const tenantResult = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'addTenant',\r\n            data: tenantData\r\n          }\r\n        });\r\n        \r\n        if (tenantResult.result.code !== 0) {\r\n          uni.showToast({\r\n            title: tenantResult.result.message,\r\n            icon: 'none'\r\n          });\r\n          return;\r\n        }\r\n        \r\n        const tenantId = tenantResult.result.data.id;\r\n        \r\n        // ÂàõÂª∫ÁßüËµÅÂÖ≥Á≥ª\r\n        const rentalData = {\r\n          room_id: this.roomId,\r\n          tenant_id: tenantId,\r\n          rent_price: parseFloat(this.formData.rent_price),\r\n          deposit: parseFloat(this.formData.deposit) || parseFloat(this.formData.rent_price), // ÊäºÈáëÈªòËÆ§Á≠â‰∫éÁßüÈáë\r\n          rent_start_date: this.formData.rent_start_date,\r\n          rent_end_date: this.formData.rent_end_date,\r\n          utilities_included: false,\r\n          electricity_start_reading: parseFloat(this.formData.electricity_reading) || 0,\r\n          water_start_reading: parseFloat(this.formData.water_reading) || 0,\r\n          contract_notes: `${this.roomInfo.room_number}Âè∑ÊàøÁßüËµÅÂêàÂêå`\r\n        };\r\n        \r\n        const rentalResult = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'createRental',\r\n            data: rentalData\r\n          }\r\n        });\r\n        \r\n        if (rentalResult.result.code === 0) {\r\n          uni.showToast({\r\n            title: 'ÁßüËµÅÂàõÂª∫ÊàêÂäü',\r\n            icon: 'success'\r\n          });\r\n          \r\n          setTimeout(() => {\r\n            // ÈÄöÁü•È°µÈù¢Âà∑Êñ∞\r\n            const pages = getCurrentPages();\r\n            const prevPage = pages[pages.length - 2];\r\n            if (prevPage && prevPage.route.includes('room-list')) {\r\n              prevPage.$vm.refreshData();\r\n            }\r\n            uni.navigateBack();\r\n          }, 1500);\r\n        } else {\r\n          // Â¶ÇÊûúÁßüËµÅÂàõÂª∫Â§±Ë¥•ÔºåÂà†Èô§Â∑≤ÂàõÂª∫ÁöÑÁßüÊà∑\r\n          await uniCloud.callFunction({\r\n            name: 'room-management',\r\n            data: {\r\n              action: 'deleteTenant',\r\n              data: { id: tenantId }\r\n            }\r\n          });\r\n          \r\n          uni.showToast({\r\n            title: rentalResult.result.message,\r\n            icon: 'none'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('‰øùÂ≠òÁßüÊà∑‰ø°ÊÅØÂ§±Ë¥•:', error);\r\n        uni.showToast({\r\n          title: '‰øùÂ≠òÂ§±Ë¥•',\r\n          icon: 'none'\r\n        });\r\n      } finally {\r\n        uni.hideLoading();\r\n      }\r\n    },\r\n    \r\n    // ÂèñÊ∂à\r\n    cancel() {\r\n      uni.navigateBack();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n  padding: 20rpx;\r\n}\r\n\r\n.form-section {\r\n  background-color: #fff;\r\n  border-radius: 16rpx;\r\n  padding: 40rpx;\r\n  margin-bottom: 20rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05);\r\n}\r\n\r\n.section-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.form-item {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.form-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.form-label {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.form-input {\r\n  width: 100%;\r\n  padding: 20rpx;\r\n  border: 2rpx solid #e8e8e8;\r\n  border-radius: 8rpx;\r\n  font-size: 28rpx;\r\n  background-color: #fff;\r\n}\r\n\r\n.form-input:focus {\r\n  border-color: #007AFF;\r\n}\r\n\r\n.picker-input {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20rpx;\r\n  border: 2rpx solid #e8e8e8;\r\n  border-radius: 8rpx;\r\n  font-size: 28rpx;\r\n  background-color: #fff;\r\n  color: #333;\r\n}\r\n\r\n.arrow {\r\n  color: #999;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.section-note {\r\n  font-size: 26rpx;\r\n  color: #666;\r\n  margin-bottom: 20rpx;\r\n  line-height: 1.4;\r\n}\r\n\r\n.utility-grid {\r\n  display: flex;\r\n  gap: 24rpx;\r\n}\r\n\r\n.utility-item {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  background-color: #f8f9fa;\r\n  border-radius: 12rpx;\r\n  padding: 20rpx;\r\n}\r\n\r\n.utility-label {\r\n  font-size: 26rpx;\r\n  color: #333;\r\n  margin-bottom: 12rpx;\r\n  font-weight: 500;\r\n}\r\n\r\n.utility-input-group {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  position: relative;\r\n}\r\n\r\n.utility-input {\r\n  flex: 1;\r\n  padding: 16rpx 40rpx 16rpx 16rpx;\r\n  border: 2rpx solid #e9ecef;\r\n  border-radius: 8rpx;\r\n  font-size: 28rpx;\r\n  text-align: center;\r\n  background-color: white;\r\n}\r\n\r\n.utility-unit {\r\n  position: absolute;\r\n  right: 12rpx;\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.room-info {\r\n  background-color: #f8f9fa;\r\n  border-radius: 12rpx;\r\n  padding: 24rpx;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.info-item:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.info-label {\r\n  color: #666;\r\n  font-size: 28rpx;\r\n  margin-right: 12rpx;\r\n}\r\n\r\n.info-value {\r\n  color: #333;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.price {\r\n  color: #ff4d4f;\r\n  font-weight: bold;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  gap: 20rpx;\r\n  padding: 40rpx 20rpx;\r\n}\r\n\r\n.btn-cancel, .btn-save {\r\n  flex: 1;\r\n  padding: 28rpx;\r\n  border: none;\r\n  border-radius: 12rpx;\r\n  font-size: 32rpx;\r\n}\r\n\r\n.btn-cancel {\r\n  background-color: #f5f5f5;\r\n  color: #666;\r\n}\r\n\r\n.btn-save {\r\n  background-color: #007AFF;\r\n  color: white;\r\n}\r\n\r\n.loading {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 400rpx;\r\n  color: #999;\r\n}\r\n</style>","import MiniProgramPage from '/Users/peak/Work/room-list/pages/tenant-info/tenant-info.vue'\nwx.createPage(MiniProgramPage)"],"names":["uniCloud","uni"],"mappings":"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"}