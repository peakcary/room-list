<view class="container"><view wx:if="{{a}}" class="room-info-card"><view class="info-section"><view class="section-title">基本信息</view><view class="info-grid"><view class="info-item"><view class="info-label">房间号</view><view class="info-value">{{b}}</view></view><view class="info-item"><view class="info-label">楼层</view><view class="info-value">{{c}}层</view></view><view class="info-item"><view class="info-label">状态</view><view class="info-value"><view class="{{['status-tag', e]}}">{{d}}</view></view></view></view></view><view wx:if="{{f}}" class="info-section"><view class="section-title">租户信息</view><view class="info-grid"><view class="info-item"><view class="info-label">姓名</view><view class="info-value">{{g}}</view></view><view class="info-item"><view class="info-label">身份证</view><view class="info-value">{{h}}</view></view><view class="info-item"><view class="info-label">电话</view><view class="info-value phone" bindtap="{{j}}">{{i}}</view></view><view class="info-item"><view class="info-label">租期开始</view><view class="info-value">{{k}}</view></view><view class="info-item"><view class="info-label">租期结束</view><view class="info-value">{{l}}</view></view></view></view><view class="info-section"><view class="section-title">📋 出租历史记录</view><view wx:if="{{m}}" class="rental-history-list"><view wx:for="{{n}}" wx:for-item="rental" wx:key="j" class="rental-history-item"><view class="rental-header"><view class="rental-tenant-name">{{rental.a}}</view><view class="{{['rental-status', rental.c]}}">{{rental.b}}</view></view><view class="rental-details"><view class="rental-period"><text class="period-label">租期:</text><text class="period-value">{{rental.d}}</text></view><view class="rental-info-row"><view class="rental-info-item"><text class="info-label">月租金:</text><text class="info-value price">¥{{rental.e}}</text></view><view class="rental-info-item"><text class="info-label">押金:</text><text class="info-value">¥{{rental.f}}</text></view></view><view wx:if="{{rental.g}}" class="rental-phone"><text class="phone-label">电话:</text><text class="phone-value" bindtap="{{rental.i}}"> 📞 {{rental.h}}</text></view></view></view></view><view wx:else class="no-rental-history"><text>暂无出租历史记录</text></view></view><view class="info-section"><view class="section-title-with-action"><text class="section-title">🔧 维修记录</text><button class="add-maintenance-btn" bindtap="{{o}}">+ 添加维修</button></view><view wx:if="{{p}}" class="maintenance-list"><view wx:for="{{q}}" wx:for-item="record" wx:key="d" class="maintenance-item"><view class="maintenance-header"><view class="maintenance-amount">¥{{record.a}}</view><view class="maintenance-date">{{record.b}}</view></view><view class="maintenance-content">{{record.c}}</view></view></view><view wx:else class="no-maintenance"><text>暂无维修记录</text></view></view><view class="action-buttons"><button wx:if="{{r}}" class="action-btn tenant" bindtap="{{s}}"> 添加租户 </button><button wx:if="{{t}}" class="action-btn delete" bindtap="{{v}}"> 删除房间 </button></view></view><view wx:if="{{w}}" class="loading"><text>加载中...</text></view><view wx:if="{{x}}" class="maintenance-modal" bindtap="{{G}}"><view class="maintenance-popup" catchtap="{{F}}"><view class="popup-header"><text class="popup-title">添加维修记录</text><button class="close-btn" bindtap="{{y}}">×</button></view><view class="popup-content"><view class="form-item"><view class="form-label">维修金额 *</view><input class="form-input" type="digit" placeholder="请输入维修金额" value="{{z}}" bindinput="{{A}}"/></view><view class="form-item"><view class="form-label">维修内容 *</view><block wx:if="{{r0}}"><textarea class="form-textarea" placeholder="请描述维修内容" maxlength="200" value="{{B}}" bindinput="{{C}}"></textarea></block></view></view><view class="popup-actions"><button class="btn-cancel" bindtap="{{D}}">取消</button><button class="btn-save" bindtap="{{E}}">保存</button></view></view></view></view>