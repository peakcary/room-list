{"version":3,"file":"index.js","sources":["pages/index/index.vue","pages/index/index.vue?type=page"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <!-- 头部时间选择 -->\r\n    <view class=\"header-section\">\r\n      <view class=\"welcome-title\">收入统计</view>\r\n      <view class=\"time-selector\">\r\n        <view class=\"time-tabs\">\r\n          <view \r\n            class=\"time-tab\" \r\n            :class=\"{ active: currentTimeType === 'monthly' }\"\r\n            @click=\"switchTimeType('monthly')\"\r\n          >\r\n            按月\r\n          </view>\r\n          <view \r\n            class=\"time-tab\" \r\n            :class=\"{ active: currentTimeType === 'yearly' }\"\r\n            @click=\"switchTimeType('yearly')\"\r\n          >\r\n            按年\r\n          </view>\r\n        </view>\r\n        <view class=\"time-picker\" @click=\"showTimePicker\">\r\n          <text>{{ currentPeriodText }}</text>\r\n          <text class=\"arrow\">▼</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 收入统计卡片 -->\r\n    <view class=\"income-section\">\r\n      <view class=\"income-overview\">\r\n        <view class=\"overview-item rent\">\r\n          <view class=\"overview-icon\">🏠</view>\r\n          <view class=\"overview-content\">\r\n            <view class=\"overview-amount\">¥{{ incomeStats.rent_income || 0 }}</view>\r\n            <view class=\"overview-label\">租金收入</view>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"overview-item utility\">\r\n          <view class=\"overview-icon\">⚡</view>\r\n          <view class=\"overview-content\">\r\n            <view class=\"overview-amount\">¥{{ incomeStats.utility_income || 0 }}</view>\r\n            <view class=\"overview-label\">水电收入</view>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"overview-item maintenance\">\r\n          <view class=\"overview-icon\">🔧</view>\r\n          <view class=\"overview-content\">\r\n            <view class=\"overview-amount\">¥{{ incomeStats.maintenance_expenses || 0 }}</view>\r\n            <view class=\"overview-label\">维修支出</view>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"overview-item net\">\r\n          <view class=\"overview-icon\">💰</view>\r\n          <view class=\"overview-content\">\r\n            <view class=\"overview-amount profit\">¥{{ incomeStats.net_income || 0 }}</view>\r\n            <view class=\"overview-label\">净收入</view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 房间出租情况 -->\r\n    <view class=\"occupancy-section\">\r\n      <view class=\"section-title\">房间出租情况</view>\r\n      <view class=\"occupancy-stats\">\r\n        <view class=\"occupancy-main\">\r\n          <view class=\"occupancy-rate\">\r\n            <view class=\"rate-circle\">\r\n              <view class=\"rate-text\">{{ occupancyStats.occupancy_rate || 0 }}%</view>\r\n              <view class=\"rate-label\">出租率</view>\r\n            </view>\r\n          </view>\r\n          <view class=\"occupancy-details\">\r\n            <view class=\"detail-item\">\r\n              <view class=\"detail-number\">{{ occupancyStats.total || 0 }}</view>\r\n              <view class=\"detail-label\">总房间</view>\r\n            </view>\r\n            <view class=\"detail-item rented\">\r\n              <view class=\"detail-number\">{{ occupancyStats.rented || 0 }}</view>\r\n              <view class=\"detail-label\">已出租</view>\r\n            </view>\r\n            <view class=\"detail-item available\">\r\n              <view class=\"detail-number\">{{ occupancyStats.available || 0 }}</view>\r\n              <view class=\"detail-label\">空闲</view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"rental-alerts\" v-if=\"rentalAlerts.expiring_soon > 0 || rentalAlerts.overdue > 0\">\r\n          <view class=\"alert-item warning\" v-if=\"rentalAlerts.expiring_soon > 0\">\r\n            <view class=\"alert-icon\">⚠️</view>\r\n            <view class=\"alert-text\">{{ rentalAlerts.expiring_soon }}个租约即将到期</view>\r\n          </view>\r\n          <view class=\"alert-item danger\" v-if=\"rentalAlerts.overdue > 0\">\r\n            <view class=\"alert-icon\">🚨</view>\r\n            <view class=\"alert-text\">{{ rentalAlerts.overdue }}个租约已过期</view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 收入趋势图 -->\r\n    <view class=\"trend-section\" v-if=\"incomeTrend.length > 0\">\r\n      <view class=\"section-title\">收入趋势（最近6个月）</view>\r\n      <view class=\"trend-chart\">\r\n        <view class=\"trend-item\" v-for=\"(item, index) in incomeTrend\" :key=\"index\">\r\n          <view class=\"trend-bar\">\r\n            <view \r\n              class=\"trend-bar-fill rent\" \r\n              :style=\"{ height: getTrendBarHeight(item.rent_income) + '%' }\"\r\n            ></view>\r\n            <view \r\n              class=\"trend-bar-fill utility\" \r\n              :style=\"{ height: getTrendBarHeight(item.utility_income) + '%', bottom: getTrendBarHeight(item.rent_income) + '%' }\"\r\n            ></view>\r\n          </view>\r\n          <view class=\"trend-label\">{{ formatTrendMonth(item.month) }}</view>\r\n          <view class=\"trend-amount\">¥{{ item.rent_income + item.utility_income }}</view>\r\n        </view>\r\n      </view>\r\n      <view class=\"trend-legend\">\r\n        <view class=\"legend-item\">\r\n          <view class=\"legend-color rent\"></view>\r\n          <text>租金收入</text>\r\n        </view>\r\n        <view class=\"legend-item\">\r\n          <view class=\"legend-color utility\"></view>\r\n          <text>水电收入</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 系统管理入口 -->\r\n    <view class=\"system-management\">\r\n      <button class=\"system-btn\" @click=\"goToSystemDeploy\">\r\n        🚀 系统部署管理\r\n      </button>\r\n    </view>\r\n\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      currentTimeType: 'monthly', // monthly 或 yearly\r\n      currentYear: new Date().getFullYear(),\r\n      currentMonth: new Date().getMonth() + 1,\r\n      incomeStats: {\r\n        rent_income: 0,\r\n        utility_income: 0,\r\n        maintenance_expenses: 0,\r\n        net_income: 0,\r\n        period: ''\r\n      },\r\n      occupancyStats: {\r\n        total: 0,\r\n        rented: 0,\r\n        available: 0,\r\n        maintenance: 0,\r\n        occupancy_rate: 0\r\n      },\r\n      rentalAlerts: {\r\n        expiring_soon: 0,\r\n        overdue: 0\r\n      },\r\n      incomeTrend: [],\r\n      loading: false\r\n    }\r\n  },\r\n  \r\n  computed: {\r\n    currentPeriodText() {\r\n      if (this.currentTimeType === 'monthly') {\r\n        return `${this.currentYear}年${this.currentMonth}月`;\r\n      } else {\r\n        return `${this.currentYear}年`;\r\n      }\r\n    }\r\n  },\r\n  \r\n  onLoad() {\r\n    this.loadDashboardData();\r\n  },\r\n  \r\n  onShow() {\r\n    // 页面显示时刷新数据\r\n    this.loadDashboardData();\r\n  },\r\n  \r\n  methods: {\r\n    // 加载首页数据\r\n    async loadDashboardData() {\r\n      if (this.loading) return;\r\n      this.loading = true;\r\n      \r\n      try {\r\n        // 获取收入统计\r\n        await this.loadIncomeStats();\r\n        \r\n        // 获取房间出租统计\r\n        await this.loadOccupancyStats();\r\n        \r\n        // 获取收入趋势\r\n        await this.loadIncomeTrend();\r\n        \r\n      } catch (error) {\r\n        console.error('加载首页数据失败:', error);\r\n        uni.showToast({\r\n          title: '数据加载失败',\r\n          icon: 'none'\r\n        });\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    // 加载收入统计\r\n    async loadIncomeStats() {\r\n      try {\r\n        const result = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'getIncomeStatistics',\r\n            data: {\r\n              year: this.currentYear,\r\n              month: this.currentTimeType === 'monthly' ? this.currentMonth : undefined,\r\n              type: this.currentTimeType\r\n            }\r\n          }\r\n        });\r\n        \r\n        if (result.result.code === 0) {\r\n          if (this.currentTimeType === 'yearly' && result.result.data.year_totals) {\r\n            this.incomeStats = result.result.data.year_totals;\r\n            this.incomeStats.period = result.result.data.period;\r\n          } else {\r\n            this.incomeStats = result.result.data;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('加载收入统计失败:', error);\r\n      }\r\n    },\r\n    \r\n    // 加载房间出租统计\r\n    async loadOccupancyStats() {\r\n      try {\r\n        const result = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'getRoomOccupancyStatistics'\r\n          }\r\n        });\r\n        \r\n        if (result.result.code === 0) {\r\n          this.occupancyStats = result.result.data.room_status;\r\n          this.rentalAlerts = result.result.data.rental_activity;\r\n        }\r\n      } catch (error) {\r\n        console.error('加载房间统计失败:', error);\r\n      }\r\n    },\r\n    \r\n    // 加载收入趋势\r\n    async loadIncomeTrend() {\r\n      try {\r\n        const result = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'getIncomeTrend'\r\n          }\r\n        });\r\n        \r\n        if (result.result.code === 0) {\r\n          this.incomeTrend = result.result.data;\r\n        }\r\n      } catch (error) {\r\n        console.error('加载收入趋势失败:', error);\r\n      }\r\n    },\r\n    \r\n    // 切换时间类型\r\n    switchTimeType(type) {\r\n      if (this.currentTimeType === type) return;\r\n      this.currentTimeType = type;\r\n      this.loadIncomeStats();\r\n    },\r\n    \r\n    // 显示时间选择器\r\n    showTimePicker() {\r\n      if (this.currentTimeType === 'monthly') {\r\n        // 月份选择器\r\n        const months = [];\r\n        for (let i = 1; i <= 12; i++) {\r\n          months.push(`${i}月`);\r\n        }\r\n        \r\n        uni.showActionSheet({\r\n          itemList: months,\r\n          success: (res) => {\r\n            this.currentMonth = res.tapIndex + 1;\r\n            this.loadIncomeStats();\r\n          }\r\n        });\r\n      } else {\r\n        // 年份选择器\r\n        const currentYear = new Date().getFullYear();\r\n        const years = [];\r\n        for (let i = currentYear - 2; i <= currentYear + 1; i++) {\r\n          years.push(`${i}年`);\r\n        }\r\n        \r\n        uni.showActionSheet({\r\n          itemList: years,\r\n          success: (res) => {\r\n            this.currentYear = currentYear - 2 + res.tapIndex;\r\n            this.loadIncomeStats();\r\n          }\r\n        });\r\n      }\r\n    },\r\n    \r\n    // 计算趋势图柱状高度\r\n    getTrendBarHeight(amount) {\r\n      if (this.incomeTrend.length === 0) return 0;\r\n      \r\n      const maxAmount = Math.max(...this.incomeTrend.map(item => \r\n        item.rent_income + item.utility_income\r\n      ));\r\n      \r\n      return maxAmount > 0 ? (amount / maxAmount) * 100 : 0;\r\n    },\r\n    \r\n    // 格式化趋势月份\r\n    formatTrendMonth(monthStr) {\r\n      const [year, month] = monthStr.split('-');\r\n      return `${month}月`;\r\n    },\r\n    \r\n    // 跳转到系统部署管理\r\n    goToSystemDeploy() {\r\n      uni.navigateTo({\r\n        url: '/pages/system-deploy/system-deploy'\r\n      });\r\n    }\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n  padding-bottom: 120rpx;\r\n  /* #ifdef H5 */\r\n  padding-bottom: 70px;\r\n  /* #endif */\r\n}\r\n\r\n/* 头部区域 */\r\n.header-section {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  padding: 60rpx 40rpx 40rpx;\r\n  color: white;\r\n}\r\n\r\n.welcome-title {\r\n  font-size: 48rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 30rpx;\r\n  text-align: center;\r\n}\r\n\r\n.time-selector {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.time-tabs {\r\n  display: flex;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  border-radius: 25rpx;\r\n  padding: 6rpx;\r\n}\r\n\r\n.time-tab {\r\n  padding: 12rpx 24rpx;\r\n  border-radius: 20rpx;\r\n  font-size: 28rpx;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.time-tab.active {\r\n  background: white;\r\n  color: #667eea;\r\n  font-weight: bold;\r\n}\r\n\r\n.time-picker {\r\n  display: flex;\r\n  align-items: center;\r\n  background: rgba(255, 255, 255, 0.2);\r\n  padding: 12rpx 20rpx;\r\n  border-radius: 20rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.arrow {\r\n  margin-left: 8rpx;\r\n  font-size: 20rpx;\r\n}\r\n\r\n/* 收入统计 */\r\n.income-section {\r\n  margin: -20rpx 40rpx 30rpx;\r\n  background: white;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx 30rpx;\r\n  box-shadow: 0 8rpx 25rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.income-overview {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 30rpx;\r\n}\r\n\r\n.overview-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 20rpx;\r\n  border-radius: 16rpx;\r\n  background: #f8f9fa;\r\n}\r\n\r\n.overview-item.rent {\r\n  background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);\r\n}\r\n\r\n.overview-item.utility {\r\n  background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);\r\n}\r\n\r\n.overview-item.maintenance {\r\n  background: linear-gradient(135deg, #fff3e0 0%, #ffcc02 100%);\r\n}\r\n\r\n.overview-item.net {\r\n  background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);\r\n}\r\n\r\n.overview-icon {\r\n  font-size: 40rpx;\r\n  margin-right: 16rpx;\r\n}\r\n\r\n.overview-amount {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 4rpx;\r\n}\r\n\r\n.overview-amount.profit {\r\n  color: #4caf50;\r\n}\r\n\r\n.overview-label {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n/* 房间出租情况 */\r\n.occupancy-section {\r\n  background: white;\r\n  margin: 0 40rpx 30rpx;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx 30rpx;\r\n  box-shadow: 0 8rpx 25rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.section-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.occupancy-main {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.occupancy-rate {\r\n  margin-right: 40rpx;\r\n}\r\n\r\n.rate-circle {\r\n  width: 140rpx;\r\n  height: 140rpx;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: white;\r\n}\r\n\r\n.rate-text {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n}\r\n\r\n.rate-label {\r\n  font-size: 20rpx;\r\n  margin-top: 4rpx;\r\n}\r\n\r\n.occupancy-details {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: space-around;\r\n}\r\n\r\n.detail-item {\r\n  text-align: center;\r\n}\r\n\r\n.detail-number {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.detail-item.rented .detail-number {\r\n  color: #f44336;\r\n}\r\n\r\n.detail-item.available .detail-number {\r\n  color: #4caf50;\r\n}\r\n\r\n.detail-label {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.rental-alerts {\r\n  border-top: 1rpx solid #f0f0f0;\r\n  padding-top: 20rpx;\r\n}\r\n\r\n.alert-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 16rpx;\r\n  margin-bottom: 12rpx;\r\n  border-radius: 12rpx;\r\n}\r\n\r\n.alert-item.warning {\r\n  background: #fff3cd;\r\n  border: 1rpx solid #ffeaa7;\r\n}\r\n\r\n.alert-item.danger {\r\n  background: #f8d7da;\r\n  border: 1rpx solid #f5c6cb;\r\n}\r\n\r\n.alert-icon {\r\n  margin-right: 12rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.alert-text {\r\n  font-size: 26rpx;\r\n  color: #333;\r\n}\r\n\r\n/* 收入趋势图 */\r\n.trend-section {\r\n  background: white;\r\n  margin: 0 40rpx 30rpx;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx 30rpx;\r\n  box-shadow: 0 8rpx 25rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.trend-chart {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: end;\r\n  height: 200rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.trend-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  flex: 1;\r\n}\r\n\r\n.trend-bar {\r\n  position: relative;\r\n  width: 40rpx;\r\n  height: 160rpx;\r\n  background: #f0f0f0;\r\n  border-radius: 20rpx;\r\n  margin-bottom: 12rpx;\r\n  overflow: hidden;\r\n}\r\n\r\n.trend-bar-fill {\r\n  position: absolute;\r\n  width: 100%;\r\n  border-radius: 20rpx;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.trend-bar-fill.rent {\r\n  background: linear-gradient(to top, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n.trend-bar-fill.utility {\r\n  background: linear-gradient(to top, #f093fb 0%, #f5576c 100%);\r\n}\r\n\r\n.trend-label {\r\n  font-size: 22rpx;\r\n  color: #666;\r\n  margin-bottom: 4rpx;\r\n}\r\n\r\n.trend-amount {\r\n  font-size: 20rpx;\r\n  color: #333;\r\n  font-weight: bold;\r\n}\r\n\r\n.trend-legend {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 40rpx;\r\n}\r\n\r\n.legend-item {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.legend-color {\r\n  width: 20rpx;\r\n  height: 20rpx;\r\n  border-radius: 4rpx;\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.legend-color.rent {\r\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n}\r\n\r\n.legend-color.utility {\r\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\r\n}\r\n\r\n/* 系统管理入口 */\r\n.system-management {\r\n  padding: 40rpx;\r\n  text-align: center;\r\n}\r\n\r\n.system-btn {\r\n  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);\r\n  color: white;\r\n  border: none;\r\n  border-radius: 16rpx;\r\n  padding: 24rpx 48rpx;\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  box-shadow: 0 8rpx 25rpx rgba(255, 107, 107, 0.3);\r\n  transition: all 0.3s;\r\n}\r\n\r\n.system-btn:active {\r\n  transform: scale(0.95);\r\n  box-shadow: 0 4rpx 12rpx rgba(255, 107, 107, 0.4);\r\n}\r\n\r\n</style>\r\n","import MiniProgramPage from '/Users/peak/Work/room-list/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","uniCloud"],"mappings":"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"}