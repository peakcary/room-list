{"version":3,"file":"room-detail.js","sources":["pages/room-detail/room-detail.vue","pages/room-detail/room-detail.vue?type=page"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <view class=\"room-info-card\" v-if=\"roomInfo\">\r\n      <!-- ÊàøÈó¥Âü∫Êú¨‰ø°ÊÅØ -->\r\n      <view class=\"info-section\">\r\n        <view class=\"section-title\">Âü∫Êú¨‰ø°ÊÅØ</view>\r\n        <view class=\"info-grid\">\r\n          <view class=\"info-item\">\r\n            <view class=\"info-label\">ÊàøÈó¥Âè∑</view>\r\n            <view class=\"info-value\">{{ roomInfo.room_number }}</view>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <view class=\"info-label\">Ê•ºÂ±Ç</view>\r\n            <view class=\"info-value\">{{ roomInfo.floor || '--' }}Â±Ç</view>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <view class=\"info-label\">Áä∂ÊÄÅ</view>\r\n            <view class=\"info-value\">\r\n              <view class=\"status-tag\" :class=\"'status-' + roomInfo.status\">\r\n                {{ getStatusText(roomInfo.status) }}\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- ÁßüÊà∑‰ø°ÊÅØ -->\r\n      <view class=\"info-section\" v-if=\"roomInfo.tenant_info\">\r\n        <view class=\"section-title\">ÁßüÊà∑‰ø°ÊÅØ</view>\r\n        <view class=\"info-grid\">\r\n          <view class=\"info-item\">\r\n            <view class=\"info-label\">ÂßìÂêç</view>\r\n            <view class=\"info-value\">{{ roomInfo.tenant_info.name }}</view>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <view class=\"info-label\">Ë∫´‰ªΩËØÅ</view>\r\n            <view class=\"info-value\">{{ roomInfo.tenant_info.id_card }}</view>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <view class=\"info-label\">ÁîµËØù</view>\r\n            <view class=\"info-value phone\" @click=\"callTenant\">{{ roomInfo.tenant_info.phone }}</view>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <view class=\"info-label\">ÁßüÊúüÂºÄÂßã</view>\r\n            <view class=\"info-value\">{{ formatDate(roomInfo.tenant_info.rent_start_date) }}</view>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <view class=\"info-label\">ÁßüÊúüÁªìÊùü</view>\r\n            <view class=\"info-value\">{{ formatDate(roomInfo.tenant_info.rent_end_date) }}</view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n\r\n      <!-- Âá∫ÁßüÂéÜÂè≤ËÆ∞ÂΩï -->\r\n      <view class=\"info-section\">\r\n        <view class=\"section-title\">üìã Âá∫ÁßüÂéÜÂè≤ËÆ∞ÂΩï</view>\r\n        \r\n        <view class=\"rental-history-list\" v-if=\"rentalHistory.length > 0\">\r\n          <view class=\"rental-history-item\" v-for=\"rental in rentalHistory\" :key=\"rental._id\">\r\n            <view class=\"rental-header\">\r\n              <view class=\"rental-tenant-name\">{{ rental.tenant_info?.name || 'ÁßüÊà∑‰ø°ÊÅØÁº∫Â§±' }}</view>\r\n              <view class=\"rental-status\" :class=\"'rental-status-' + rental.status\">\r\n                {{ getRentalStatusText(rental.status) }}\r\n              </view>\r\n            </view>\r\n            <view class=\"rental-details\">\r\n              <view class=\"rental-period\">\r\n                <text class=\"period-label\">ÁßüÊúü:</text>\r\n                <text class=\"period-value\">{{ formatDateRange(rental.rent_start_date, rental.rent_end_date) }}</text>\r\n              </view>\r\n              <view class=\"rental-info-row\">\r\n                <view class=\"rental-info-item\">\r\n                  <text class=\"info-label\">ÊúàÁßüÈáë:</text>\r\n                  <text class=\"info-value price\">¬•{{ rental.rent_price }}</text>\r\n                </view>\r\n                <view class=\"rental-info-item\">\r\n                  <text class=\"info-label\">ÊäºÈáë:</text>\r\n                  <text class=\"info-value\">¬•{{ rental.deposit }}</text>\r\n                </view>\r\n              </view>\r\n              <view class=\"rental-phone\" v-if=\"rental.tenant_info?.phone\">\r\n                <text class=\"phone-label\">ÁîµËØù:</text>\r\n                <text class=\"phone-value\" @tap=\"callTenant(rental.tenant_info.phone)\">\r\n                  üìû {{ rental.tenant_info.phone }}\r\n                </text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"no-rental-history\" v-else>\r\n          <text>ÊöÇÊó†Âá∫ÁßüÂéÜÂè≤ËÆ∞ÂΩï</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Áª¥‰øÆËÆ∞ÂΩï -->\r\n      <view class=\"info-section\">\r\n        <view class=\"section-title-with-action\">\r\n          <text class=\"section-title\">üîß Áª¥‰øÆËÆ∞ÂΩï</text>\r\n          <button class=\"add-maintenance-btn\" @click=\"showAddMaintenance\">+ Ê∑ªÂä†Áª¥‰øÆ</button>\r\n        </view>\r\n        \r\n        <view class=\"maintenance-list\" v-if=\"maintenanceRecords.length > 0\">\r\n          <view class=\"maintenance-item\" v-for=\"record in maintenanceRecords\" :key=\"record._id\">\r\n            <view class=\"maintenance-header\">\r\n              <view class=\"maintenance-amount\">¬•{{ record.amount }}</view>\r\n              <view class=\"maintenance-date\">{{ formatDate(record.create_date) }}</view>\r\n            </view>\r\n            <view class=\"maintenance-content\">{{ record.description }}</view>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"no-maintenance\" v-else>\r\n          <text>ÊöÇÊó†Áª¥‰øÆËÆ∞ÂΩï</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- Êìç‰ΩúÊåâÈíÆ -->\r\n      <view class=\"action-buttons\">\r\n        <button class=\"action-btn tenant\" @click=\"manageTenant\" v-if=\"roomInfo.status === 'available'\">\r\n          Ê∑ªÂä†ÁßüÊà∑\r\n        </button>\r\n        <button class=\"action-btn delete\" @click=\"deleteRoom\" v-if=\"roomInfo.status === 'available'\">\r\n          Âà†Èô§ÊàøÈó¥\r\n        </button>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- Âä†ËΩΩÁä∂ÊÄÅ -->\r\n    <view class=\"loading\" v-if=\"loading\">\r\n      <text>Âä†ËΩΩ‰∏≠...</text>\r\n    </view>\r\n    \r\n    <!-- Ê∑ªÂä†Áª¥‰øÆËÆ∞ÂΩïÂºπÁ™ó -->\r\n    <view class=\"maintenance-modal\" v-if=\"showMaintenanceModal\" @click=\"closeAddMaintenance\">\r\n      <view class=\"maintenance-popup\" @click.stop>\r\n        <view class=\"popup-header\">\r\n          <text class=\"popup-title\">Ê∑ªÂä†Áª¥‰øÆËÆ∞ÂΩï</text>\r\n          <button class=\"close-btn\" @click=\"closeAddMaintenance\">√ó</button>\r\n        </view>\r\n        \r\n        <view class=\"popup-content\">\r\n          <view class=\"form-item\">\r\n            <view class=\"form-label\">Áª¥‰øÆÈáëÈ¢ù *</view>\r\n            <input \r\n              class=\"form-input\"\r\n              v-model=\"maintenanceForm.amount\"\r\n              type=\"digit\"\r\n              placeholder=\"ËØ∑ËæìÂÖ•Áª¥‰øÆÈáëÈ¢ù\"\r\n            />\r\n          </view>\r\n          \r\n          <view class=\"form-item\">\r\n            <view class=\"form-label\">Áª¥‰øÆÂÜÖÂÆπ *</view>\r\n            <textarea \r\n              class=\"form-textarea\"\r\n              v-model=\"maintenanceForm.description\"\r\n              placeholder=\"ËØ∑ÊèèËø∞Áª¥‰øÆÂÜÖÂÆπ\"\r\n              maxlength=\"200\"\r\n            ></textarea>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"popup-actions\">\r\n          <button class=\"btn-cancel\" @click=\"closeAddMaintenance\">ÂèñÊ∂à</button>\r\n          <button class=\"btn-save\" @click=\"saveMaintenance\">‰øùÂ≠ò</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      roomInfo: null,\r\n      loading: true,\r\n      roomId: '',\r\n      maintenanceRecords: [],\r\n      rentalHistory: [],\r\n      showMaintenanceModal: false,\r\n      maintenanceForm: {\r\n        amount: '',\r\n        description: ''\r\n      }\r\n    }\r\n  },\r\n  \r\n  onLoad(options) {\r\n    // Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\r\n    this.checkAuth();\r\n    \r\n    if (options.id) {\r\n      this.roomId = options.id;\r\n      this.loadRoomInfo();\r\n    }\r\n  },\r\n  \r\n  methods: {\r\n    // Ê£ÄÊü•ËÆ§ËØÅÁä∂ÊÄÅ\r\n    checkAuth() {\r\n      const { checkPageAuth } = require('../../utils/auth.js');\r\n      return checkPageAuth();\r\n    },\r\n    \r\n    // Âä†ËΩΩÊàøÈó¥‰ø°ÊÅØ\r\n    async loadRoomInfo() {\r\n      this.loading = true;\r\n      \r\n      try {\r\n        const result = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'getRoomById',\r\n            data: { id: this.roomId }\r\n          }\r\n        });\r\n        \r\n        if (result.result.code === 0) {\r\n          this.roomInfo = result.result.data;\r\n          // Êõ¥Êñ∞È°µÈù¢Ê†áÈ¢ò\r\n          uni.setNavigationBarTitle({\r\n            title: `${this.roomInfo.room_number}Âè∑ÊàøËØ¶ÊÉÖ`\r\n          });\r\n          // Âä†ËΩΩÁª¥‰øÆËÆ∞ÂΩïÂíåÂá∫ÁßüÂéÜÂè≤\r\n          await this.loadMaintenanceRecords();\r\n          await this.loadRentalHistory();\r\n        } else {\r\n          uni.showToast({\r\n            title: result.result.message,\r\n            icon: 'none'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('Âä†ËΩΩÊàøÈó¥‰ø°ÊÅØÂ§±Ë¥•:', error);\r\n        uni.showToast({\r\n          title: 'Âä†ËΩΩÂ§±Ë¥•',\r\n          icon: 'none'\r\n        });\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    \r\n    // Âä†ËΩΩÁª¥‰øÆËÆ∞ÂΩï\r\n    async loadMaintenanceRecords() {\r\n      try {\r\n        const result = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'getMaintenanceRecords',\r\n            data: { roomId: this.roomId }\r\n          }\r\n        });\r\n        \r\n        if (result.result.code === 0) {\r\n          this.maintenanceRecords = result.result.data || [];\r\n        }\r\n      } catch (error) {\r\n        console.error('Âä†ËΩΩÁª¥‰øÆËÆ∞ÂΩïÂ§±Ë¥•:', error);\r\n      }\r\n    },\r\n    \r\n    // ÊòæÁ§∫Ê∑ªÂä†Áª¥‰øÆÂºπÁ™ó\r\n    showAddMaintenance() {\r\n      this.maintenanceForm = {\r\n        amount: '',\r\n        description: ''\r\n      };\r\n      this.showMaintenanceModal = true;\r\n    },\r\n    \r\n    // ÂÖ≥Èó≠Ê∑ªÂä†Áª¥‰øÆÂºπÁ™ó\r\n    closeAddMaintenance() {\r\n      this.showMaintenanceModal = false;\r\n    },\r\n    \r\n    // ‰øùÂ≠òÁª¥‰øÆËÆ∞ÂΩï\r\n    async saveMaintenance() {\r\n      if (!this.maintenanceForm.amount || !this.maintenanceForm.description) {\r\n        uni.showToast({\r\n          title: 'ËØ∑Â°´ÂÜôÂÆåÊï¥‰ø°ÊÅØ',\r\n          icon: 'none'\r\n        });\r\n        return;\r\n      }\r\n      \r\n      try {\r\n        uni.showLoading({ title: '‰øùÂ≠ò‰∏≠...' });\r\n        \r\n        const result = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'addMaintenanceRecord',\r\n            data: {\r\n              roomId: this.roomId,\r\n              amount: parseFloat(this.maintenanceForm.amount),\r\n              description: this.maintenanceForm.description.trim()\r\n            }\r\n          }\r\n        });\r\n        \r\n        if (result.result.code === 0) {\r\n          uni.showToast({\r\n            title: '‰øùÂ≠òÊàêÂäü',\r\n            icon: 'success'\r\n          });\r\n          this.closeAddMaintenance();\r\n          await this.loadMaintenanceRecords();\r\n        } else {\r\n          uni.showToast({\r\n            title: result.result.message,\r\n            icon: 'none'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('‰øùÂ≠òÁª¥‰øÆËÆ∞ÂΩïÂ§±Ë¥•:', error);\r\n        uni.showToast({\r\n          title: '‰øùÂ≠òÂ§±Ë¥•',\r\n          icon: 'none'\r\n        });\r\n      } finally {\r\n        uni.hideLoading();\r\n      }\r\n    },\r\n    \r\n    \r\n    // ÁÆ°ÁêÜÁßüÊà∑\r\n    manageTenant() {\r\n      uni.navigateTo({\r\n        url: `/pages/tenant-info/tenant-info?roomId=${this.roomId}`\r\n      });\r\n    },\r\n    \r\n    // Âà†Èô§ÊàøÈó¥\r\n    deleteRoom() {\r\n      uni.showModal({\r\n        title: 'Á°ÆËÆ§Âà†Èô§',\r\n        content: `Á°ÆÂÆöË¶ÅÂà†Èô§${this.roomInfo.room_number}Âè∑ÊàøÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊÅ¢Â§ç„ÄÇ`,\r\n        success: async (res) => {\r\n          if (res.confirm) {\r\n            try {\r\n              uni.showLoading({ title: 'Âà†Èô§‰∏≠...' });\r\n              \r\n              const result = await uniCloud.callFunction({\r\n                name: 'room-management',\r\n                data: {\r\n                  action: 'deleteRoom',\r\n                  data: { id: this.roomId }\r\n                }\r\n              });\r\n              \r\n              if (result.result.code === 0) {\r\n                uni.showToast({\r\n                  title: 'Âà†Èô§ÊàêÂäü',\r\n                  icon: 'success'\r\n                });\r\n                setTimeout(() => {\r\n                  uni.navigateBack();\r\n                }, 1500);\r\n              } else {\r\n                uni.showToast({\r\n                  title: result.result.message,\r\n                  icon: 'none'\r\n                });\r\n              }\r\n            } catch (error) {\r\n              console.error('Âà†Èô§ÊàøÈó¥Â§±Ë¥•:', error);\r\n              uni.showToast({\r\n                title: 'Âà†Èô§Â§±Ë¥•',\r\n                icon: 'none'\r\n              });\r\n            } finally {\r\n              uni.hideLoading();\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    \r\n    \r\n    // Êã®ÊâìÁîµËØù\r\n    callTenant(phoneNumber) {\r\n      // Â¶ÇÊûú‰º†ÂÖ•‰∫ÜÁîµËØùÂè∑Á†ÅÂèÇÊï∞Â∞±Áî®ÂèÇÊï∞ÔºåÂê¶Âàô‰ΩøÁî®ÂΩìÂâçÁßüÊà∑‰ø°ÊÅØ\r\n      const phone = phoneNumber || this.roomInfo.tenant_info?.phone;\r\n      if (phone) {\r\n        uni.makePhoneCall({\r\n          phoneNumber: phone,\r\n          fail: (err) => {\r\n            console.error('Êã®ÊâìÁîµËØùÂ§±Ë¥•:', err);\r\n            uni.showToast({\r\n              title: 'Êã®ÊâìÂ§±Ë¥•',\r\n              icon: 'none'\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        uni.showToast({\r\n          title: 'ÁîµËØùÂè∑Á†Å‰∏çÂ≠òÂú®',\r\n          icon: 'none'\r\n        });\r\n      }\r\n    },\r\n    \r\n    // Ëé∑ÂèñÁä∂ÊÄÅÊñáÊú¨\r\n    getStatusText(status) {\r\n      const statusMap = {\r\n        available: 'ÂèØÁßüÁî®',\r\n        rented: 'Â∑≤ÁßüÁî®', \r\n        maintenance: 'Áª¥‰øÆ‰∏≠'\r\n      };\r\n      return statusMap[status] || 'Êú™Áü•';\r\n    },\r\n    \r\n    // Ê†ºÂºèÂåñÊó•Êúü\r\n    formatDate(timestamp) {\r\n      if (!timestamp) return '--';\r\n      const date = new Date(timestamp);\r\n      return date.toLocaleDateString();\r\n    },\r\n    \r\n    // Âä†ËΩΩÂá∫ÁßüÂéÜÂè≤ËÆ∞ÂΩï\r\n    async loadRentalHistory() {\r\n      try {\r\n        const result = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'getRentalHistory',\r\n            data: { roomId: this.roomId }\r\n          }\r\n        });\r\n        \r\n        if (result.result.code === 0) {\r\n          this.rentalHistory = result.result.data || [];\r\n        }\r\n      } catch (error) {\r\n        console.error('Âä†ËΩΩÂá∫ÁßüÂéÜÂè≤Â§±Ë¥•:', error);\r\n      }\r\n    },\r\n    \r\n    // Ëé∑ÂèñÁßüËµÅÁä∂ÊÄÅÊñáÊú¨\r\n    getRentalStatusText(status) {\r\n      const statusMap = {\r\n        active: 'Âú®Áßü',\r\n        terminated: 'Â∑≤ÁªàÊ≠¢',\r\n        expired: 'Â∑≤ËøáÊúü'\r\n      };\r\n      return statusMap[status] || 'Êú™Áü•';\r\n    },\r\n    \r\n    // Ê†ºÂºèÂåñÊó•ÊúüËåÉÂõ¥\r\n    formatDateRange(startDate, endDate) {\r\n      if (!startDate || !endDate) return '--';\r\n      \r\n      const start = new Date(startDate);\r\n      const end = new Date(endDate);\r\n      \r\n      const formatDate = (date) => {\r\n        const year = date.getFullYear();\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        return `${year}-${month}-${day}`;\r\n      };\r\n      \r\n      return `${formatDate(start)} Ëá≥ ${formatDate(end)}`;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n  padding: 20rpx;\r\n}\r\n\r\n.room-info-card {\r\n  background-color: #fff;\r\n  border-radius: 16rpx;\r\n  overflow: hidden;\r\n  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05);\r\n}\r\n\r\n.info-section {\r\n  padding: 40rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.info-section:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.section-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.info-grid {\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  gap: 30rpx 20rpx;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.info-label {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.info-value {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  word-break: break-all;\r\n}\r\n\r\n.price {\r\n  color: #ff4d4f;\r\n  font-weight: bold;\r\n}\r\n\r\n.phone {\r\n  color: #007AFF;\r\n  text-decoration: underline;\r\n}\r\n\r\n.status-tag {\r\n  display: inline-block;\r\n  padding: 8rpx 16rpx;\r\n  border-radius: 20rpx;\r\n  font-size: 24rpx;\r\n  color: white;\r\n}\r\n\r\n.status-available {\r\n  background-color: #52c41a;\r\n}\r\n\r\n.status-rented {\r\n  background-color: #ff4d4f;\r\n}\r\n\r\n.status-maintenance {\r\n  background-color: #faad14;\r\n}\r\n\r\n.action-buttons {\r\n  padding: 40rpx;\r\n  display: flex;\r\n  gap: 20rpx;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.action-btn {\r\n  flex: 1;\r\n  min-width: 200rpx;\r\n  padding: 24rpx;\r\n  border: none;\r\n  border-radius: 12rpx;\r\n  font-size: 28rpx;\r\n  color: white;\r\n}\r\n\r\n\r\n.tenant {\r\n  background-color: #722ed1;\r\n}\r\n\r\n.delete {\r\n  background-color: #ff4d4f;\r\n}\r\n\r\n\r\n.loading {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 400rpx;\r\n  color: #999;\r\n}\r\n\r\n/* Áª¥‰øÆËÆ∞ÂΩïÊ†∑Âºè */\r\n.section-title-with-action {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.add-maintenance-btn {\r\n  padding: 12rpx 20rpx;\r\n  background-color: #52c41a;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 20rpx;\r\n  font-size: 24rpx;\r\n}\r\n\r\n.maintenance-list {\r\n  max-height: 400rpx;\r\n  overflow-y: auto;\r\n}\r\n\r\n.maintenance-item {\r\n  background-color: #f8f9fa;\r\n  border-radius: 12rpx;\r\n  padding: 20rpx;\r\n  margin-bottom: 16rpx;\r\n  border-left: 4rpx solid #fa8c16;\r\n}\r\n\r\n.maintenance-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.maintenance-amount {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #fa8c16;\r\n}\r\n\r\n.maintenance-date {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.maintenance-content {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  line-height: 1.4;\r\n}\r\n\r\n.no-maintenance {\r\n  text-align: center;\r\n  padding: 60rpx 0;\r\n  color: #999;\r\n  font-size: 28rpx;\r\n}\r\n\r\n/* Âá∫ÁßüÂéÜÂè≤ËÆ∞ÂΩïÊ†∑Âºè */\r\n.rental-history-list {\r\n  max-height: 600rpx;\r\n  overflow-y: auto;\r\n}\r\n\r\n.rental-history-item {\r\n  background: linear-gradient(135deg, #e6f7ff 0%, #f0f9ff 100%);\r\n  border-radius: 12rpx;\r\n  padding: 24rpx;\r\n  margin-bottom: 16rpx;\r\n  border-left: 4rpx solid #1890ff;\r\n  box-shadow: 0 2rpx 8rpx rgba(24, 144, 255, 0.1);\r\n}\r\n\r\n.rental-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 16rpx;\r\n}\r\n\r\n.rental-tenant-name {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #1890ff;\r\n}\r\n\r\n.rental-status {\r\n  padding: 8rpx 16rpx;\r\n  border-radius: 20rpx;\r\n  font-size: 24rpx;\r\n  font-weight: bold;\r\n  color: white;\r\n}\r\n\r\n.rental-status-active {\r\n  background: linear-gradient(135deg, #52c41a 0%, #73d13d 100%);\r\n}\r\n\r\n.rental-status-terminated {\r\n  background: linear-gradient(135deg, #ff4d4f 0%, #ff7875 100%);\r\n}\r\n\r\n.rental-status-expired {\r\n  background: linear-gradient(135deg, #faad14 0%, #ffc53d 100%);\r\n}\r\n\r\n.rental-details {\r\n  background-color: rgba(255, 255, 255, 0.7);\r\n  border-radius: 8rpx;\r\n  padding: 16rpx;\r\n}\r\n\r\n.rental-period {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.period-label {\r\n  font-size: 26rpx;\r\n  color: #666;\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.period-value {\r\n  font-size: 26rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.rental-info-row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.rental-info-item {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.rental-info-item .info-label {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.rental-info-item .info-value {\r\n  font-size: 26rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.rental-info-item .info-value.price {\r\n  color: #ff4d4f;\r\n  font-weight: bold;\r\n}\r\n\r\n.rental-phone {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.phone-label {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.phone-value {\r\n  font-size: 26rpx;\r\n  color: #1890ff;\r\n  text-decoration: underline;\r\n}\r\n\r\n.no-rental-history {\r\n  text-align: center;\r\n  padding: 60rpx 0;\r\n  color: #999;\r\n  font-size: 28rpx;\r\n}\r\n\r\n/* ÂºπÁ™óÊ†∑Âºè */\r\n.maintenance-modal {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: flex-end;\r\n  z-index: 999;\r\n}\r\n\r\n.maintenance-popup {\r\n  background-color: white;\r\n  border-radius: 20rpx 20rpx 0 0;\r\n  width: 100%;\r\n  max-height: 80vh;\r\n  animation: slideUp 0.3s ease-out;\r\n}\r\n\r\n@keyframes slideUp {\r\n  from {\r\n    transform: translateY(100%);\r\n  }\r\n  to {\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.popup-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 30rpx 40rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.popup-title {\r\n  font-size: 32rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.close-btn {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  border-radius: 50%;\r\n  background-color: #f5f5f5;\r\n  color: #999;\r\n  border: none;\r\n  font-size: 40rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.popup-content {\r\n  padding: 40rpx;\r\n}\r\n\r\n.form-item {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.form-label {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.form-input, .form-textarea {\r\n  width: 100%;\r\n  padding: 20rpx;\r\n  border: 2rpx solid #e8e8e8;\r\n  border-radius: 8rpx;\r\n  font-size: 28rpx;\r\n  background-color: #fff;\r\n}\r\n\r\n.form-textarea {\r\n  min-height: 120rpx;\r\n  resize: none;\r\n}\r\n\r\n.form-input:focus, .form-textarea:focus {\r\n  border-color: #007AFF;\r\n}\r\n\r\n.popup-actions {\r\n  display: flex;\r\n  gap: 20rpx;\r\n  padding: 40rpx;\r\n  border-top: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.btn-cancel, .btn-save {\r\n  flex: 1;\r\n  padding: 28rpx;\r\n  border: none;\r\n  border-radius: 12rpx;\r\n  font-size: 32rpx;\r\n}\r\n\r\n.btn-cancel {\r\n  background-color: #f5f5f5;\r\n  color: #666;\r\n}\r\n\r\n.btn-save {\r\n  background-color: #007AFF;\r\n  color: white;\r\n}\r\n</style>","import MiniProgramPage from '/Users/peakom/Documents/room-list/pages/room-detail/room-detail.vue'\nwx.createPage(MiniProgramPage)"],"names":["uniCloud","uni"],"mappings":"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"}