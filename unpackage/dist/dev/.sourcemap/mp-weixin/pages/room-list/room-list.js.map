{"version":3,"file":"room-list.js","sources":["pages/room-list/room-list.vue","pages/room-list/room-list.vue?type=page"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <!-- Tab栏 -->\r\n    <view class=\"tab-bar\">\r\n      <view \r\n        class=\"tab-item\" \r\n        :class=\"{ active: currentTab === 'all' }\"\r\n        @click=\"switchTab('all')\"\r\n      >\r\n        <text class=\"tab-text\">全部</text>\r\n        <text class=\"tab-count\">({{ statistics.total }})</text>\r\n      </view>\r\n      <view \r\n        class=\"tab-item\" \r\n        :class=\"{ active: currentTab === 'available' }\"\r\n        @click=\"switchTab('available')\"\r\n      >\r\n        <text class=\"tab-text\">可租用</text>\r\n        <text class=\"tab-count\">({{ statistics.available }})</text>\r\n      </view>\r\n      <view \r\n        class=\"tab-item\" \r\n        :class=\"{ active: currentTab === 'rented' }\"\r\n        @click=\"switchTab('rented')\"\r\n      >\r\n        <text class=\"tab-text\">已租用</text>\r\n        <text class=\"tab-count\">({{ statistics.rented }})</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 操作栏 -->\r\n    <view class=\"action-bar\">\r\n      <view class=\"search-box\">\r\n        <input \r\n          class=\"search-input\" \r\n          v-model=\"searchKeyword\" \r\n          placeholder=\"搜索房间号...\"\r\n          @input=\"onSearch\"\r\n        />\r\n      </view>\r\n      <view class=\"add-btn\" @click=\"addRoom\">\r\n        <text class=\"add-icon\">+</text>\r\n        <text>添加</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 房间列表 -->\r\n    <scroll-view class=\"room-list\" scroll-y=\"true\" @scrolltolower=\"loadMore\">\r\n      <view class=\"room-item\" v-for=\"room in roomList\" :key=\"room._id\" @click=\"viewRoom(room)\">\r\n        <view class=\"room-header\">\r\n          <view class=\"room-number\">{{ room.room_number }}号房</view>\r\n          <view class=\"room-status\" :class=\"'status-' + room.status\">\r\n            {{ getStatusText(room.status) }}\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"room-info\">\r\n          <view class=\"info-item\">\r\n            <text class=\"label\">面积:</text>\r\n            <text class=\"value\">{{ room.area || '--' }}㎡</text>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <text class=\"label\">租金:</text>\r\n            <text class=\"value price\">¥{{ room.rent_price }}/月</text>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"tenant-info\" v-if=\"room.current_tenant\">\r\n          <view class=\"info-item\">\r\n            <text class=\"label\">租户:</text>\r\n            <text class=\"value\">{{ room.current_tenant.name }}</text>\r\n          </view>\r\n          <view class=\"info-item\">\r\n            <text class=\"label\">电话:</text>\r\n            <text class=\"value\">{{ room.current_tenant.phone }}</text>\r\n          </view>\r\n          <view class=\"info-item\" v-if=\"room.current_rental\">\r\n            <text class=\"label\">租期:</text>\r\n            <text class=\"value\">{{ formatDateRange(room.current_rental.rent_start_date, room.current_rental.rent_end_date) }}</text>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"room-actions\">\r\n          <button class=\"action-btn edit\" @click.stop=\"editRoom(room)\">编辑</button>\r\n          <button class=\"action-btn utilities\" @click.stop=\"manageUtilities(room)\">水电</button>\r\n          <button class=\"action-btn tenant\" @click.stop=\"createRental(room)\" v-if=\"room.status === 'available'\">\r\n            出租\r\n          </button>\r\n          <button class=\"action-btn tenant-end\" @click.stop=\"terminateRental(room)\" v-if=\"room.status === 'rented'\">\r\n            退租\r\n          </button>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 加载更多 -->\r\n      <view class=\"load-more\" v-if=\"hasMore\">\r\n        <text>{{ loading ? '加载中...' : '上拉加载更多' }}</text>\r\n      </view>\r\n    </scroll-view>\r\n\r\n    <!-- 底部统计 -->\r\n    <view class=\"statistics\">\r\n      <view class=\"stat-item\">\r\n        <text class=\"stat-number\">{{ statistics.total }}</text>\r\n        <text class=\"stat-label\">总房间</text>\r\n      </view>\r\n      <view class=\"stat-item\">\r\n        <text class=\"stat-number\">{{ statistics.rented }}</text>\r\n        <text class=\"stat-label\">已租</text>\r\n      </view>\r\n      <view class=\"stat-item\">\r\n        <text class=\"stat-number\">{{ statistics.available }}</text>\r\n        <text class=\"stat-label\">空闲</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      roomList: [],\r\n      loading: false,\r\n      hasMore: true,\r\n      pageNum: 1,\r\n      pageSize: 10,\r\n      currentTab: 'all', // 当前选中的Tab\r\n      searchKeyword: '', // 搜索关键词\r\n      searchTimer: null, // 搜索防抖定时器\r\n      statistics: {\r\n        total: 0,\r\n        rented: 0,\r\n        available: 0\r\n      }\r\n    }\r\n  },\r\n  \r\n  onLoad() {\r\n    this.loadRooms();\r\n    this.loadStatistics();\r\n  },\r\n  \r\n  onPullDownRefresh() {\r\n    this.refreshData();\r\n  },\r\n  \r\n  methods: {\r\n    // 加载房间列表\r\n    async loadRooms(isRefresh = false) {\r\n      if (this.loading) return;\r\n      \r\n      this.loading = true;\r\n      \r\n      if (isRefresh) {\r\n        this.pageNum = 1;\r\n        this.roomList = [];\r\n        this.hasMore = true;\r\n      }\r\n      \r\n      try {\r\n        // 构建请求数据\r\n        const requestData = {\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          searchKeyword: this.searchKeyword\r\n        };\r\n        \r\n        // 只有不是\"全部\"时才传递status参数\r\n        if (this.currentTab !== 'all') {\r\n          requestData.status = this.currentTab;\r\n        }\r\n        \r\n        const result = await uniCloud.callFunction({\r\n          name: 'room-management',\r\n          data: {\r\n            action: 'getRooms',\r\n            data: requestData\r\n          }\r\n        });\r\n        \r\n        if (result.result.code === 0) {\r\n          const { list, total } = result.result.data;\r\n          \r\n          if (isRefresh) {\r\n            this.roomList = list;\r\n          } else {\r\n            this.roomList = [...this.roomList, ...list];\r\n          }\r\n          \r\n          this.hasMore = this.roomList.length < total;\r\n          this.pageNum++;\r\n        } else {\r\n          uni.showToast({\r\n            title: result.result.message,\r\n            icon: 'none'\r\n          });\r\n        }\r\n      } catch (error) {\r\n        console.error('加载房间列表失败:', error);\r\n        uni.showToast({\r\n          title: '加载失败',\r\n          icon: 'none'\r\n        });\r\n      } finally {\r\n        this.loading = false;\r\n        uni.stopPullDownRefresh();\r\n      }\r\n    },\r\n    \r\n    // 加载统计信息\r\n    async loadStatistics() {\r\n      try {\r\n        const promises = [\r\n          this.getRoomCount(''),\r\n          this.getRoomCount('rented'),\r\n          this.getRoomCount('available')\r\n        ];\r\n        \r\n        const results = await Promise.all(promises);\r\n        \r\n        this.statistics = {\r\n          total: results[0],\r\n          rented: results[1],\r\n          available: results[2]\r\n        };\r\n      } catch (error) {\r\n        console.error('加载统计信息失败:', error);\r\n      }\r\n    },\r\n    \r\n    // 获取房间数量\r\n    async getRoomCount(status) {\r\n      const requestData = {\r\n        pageSize: 1, // 只需要获取总数，不需要具体数据\r\n        pageNum: 1\r\n      };\r\n      \r\n      // 只有status不为空时才传递status参数\r\n      if (status) {\r\n        requestData.status = status;\r\n      }\r\n      \r\n      const result = await uniCloud.callFunction({\r\n        name: 'room-management',\r\n        data: {\r\n          action: 'getRooms',\r\n          data: requestData\r\n        }\r\n      });\r\n      \r\n      return result.result.code === 0 ? result.result.data.total : 0;\r\n    },\r\n    \r\n    // Tab切换\r\n    switchTab(tab) {\r\n      if (this.currentTab === tab) return;\r\n      this.currentTab = tab;\r\n      this.refreshData();\r\n    },\r\n    \r\n    // 搜索\r\n    onSearch() {\r\n      // 防抖处理\r\n      clearTimeout(this.searchTimer);\r\n      this.searchTimer = setTimeout(() => {\r\n        this.refreshData();\r\n      }, 500);\r\n    },\r\n    \r\n    // 刷新数据\r\n    refreshData() {\r\n      this.loadRooms(true);\r\n      this.loadStatistics();\r\n    },\r\n    \r\n    // 加载更多\r\n    loadMore() {\r\n      if (this.hasMore && !this.loading) {\r\n        this.loadRooms();\r\n      }\r\n    },\r\n    \r\n    // 查看房间详情\r\n    viewRoom(room) {\r\n      uni.navigateTo({\r\n        url: `/pages/room-detail/room-detail?id=${room._id}`\r\n      });\r\n    },\r\n    \r\n    // 编辑房间\r\n    editRoom(room) {\r\n      uni.navigateTo({\r\n        url: `/pages/room-edit/room-edit?id=${room._id}`\r\n      });\r\n    },\r\n    \r\n    // 添加房间\r\n    addRoom() {\r\n      uni.navigateTo({\r\n        url: '/pages/room-edit/room-edit'\r\n      });\r\n    },\r\n    \r\n    // 创建租赁关系\r\n    createRental(room) {\r\n      uni.navigateTo({\r\n        url: `/pages/tenant-info/tenant-info?roomId=${room._id}&action=create`\r\n      });\r\n    },\r\n    \r\n    // 终止租赁关系\r\n    terminateRental(room) {\r\n      if (!room.current_rental_id) return;\r\n      \r\n      uni.showModal({\r\n        title: '确认退租',\r\n        content: `确定要终止${room.room_number}号房的租赁关系吗？`,\r\n        success: async (res) => {\r\n          if (res.confirm) {\r\n            try {\r\n              uni.showLoading({ title: '处理中...' });\r\n              \r\n              const result = await uniCloud.callFunction({\r\n                name: 'room-management',\r\n                data: {\r\n                  action: 'terminateRental',\r\n                  data: {\r\n                    rental_id: room.current_rental_id,\r\n                    termination_reason: '正常退租'\r\n                  }\r\n                }\r\n              });\r\n              \r\n              if (result.result.code === 0) {\r\n                uni.showToast({\r\n                  title: '退租成功',\r\n                  icon: 'success'\r\n                });\r\n                this.refreshData();\r\n              } else {\r\n                uni.showToast({\r\n                  title: result.result.message,\r\n                  icon: 'none'\r\n                });\r\n              }\r\n            } catch (error) {\r\n              console.error('退租失败:', error);\r\n              uni.showToast({\r\n                title: '操作失败',\r\n                icon: 'none'\r\n              });\r\n            } finally {\r\n              uni.hideLoading();\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    \r\n    // 管理水电\r\n    manageUtilities(room) {\r\n      uni.navigateTo({\r\n        url: `/pages/utility-record/utility-record?roomId=${room._id}`\r\n      });\r\n    },\r\n    \r\n    // 获取状态文本\r\n    getStatusText(status) {\r\n      const statusMap = {\r\n        available: '可租用',\r\n        rented: '已租用',\r\n        maintenance: '维修中'\r\n      };\r\n      return statusMap[status] || '未知';\r\n    },\r\n    \r\n    // 格式化日期范围\r\n    formatDateRange(startDate, endDate) {\r\n      if (!startDate || !endDate) return '--';\r\n      \r\n      const start = new Date(startDate);\r\n      const end = new Date(endDate);\r\n      \r\n      const formatDate = (date) => {\r\n        const year = date.getFullYear();\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        return `${year}-${month}-${day}`;\r\n      };\r\n      \r\n      return `${formatDate(start)} 至 ${formatDate(end)}`;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n  /* #ifdef H5 */\r\n  padding-bottom: 70px;\r\n  /* #endif */\r\n}\r\n\r\n/* Tab栏样式 */\r\n.tab-bar {\r\n  display: flex;\r\n  background-color: #fff;\r\n  border-bottom: 1rpx solid #eee;\r\n}\r\n\r\n.tab-item {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 24rpx 12rpx;\r\n  position: relative;\r\n  min-width: 0; /* 防止文字溢出 */\r\n}\r\n\r\n.tab-item.active {\r\n  color: #007AFF;\r\n}\r\n\r\n.tab-item.active::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 60rpx;\r\n  height: 4rpx;\r\n  background-color: #007AFF;\r\n  border-radius: 2rpx;\r\n}\r\n\r\n.tab-text {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.tab-count {\r\n  font-size: 22rpx;\r\n  color: #999;\r\n}\r\n\r\n.tab-item.active .tab-count {\r\n  color: #007AFF;\r\n}\r\n\r\n/* 操作栏样式 */\r\n.action-bar {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20rpx 32rpx;\r\n  background-color: #fff;\r\n  border-bottom: 1rpx solid #eee;\r\n}\r\n\r\n.search-box {\r\n  flex: 1;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.search-input {\r\n  width: 100%;\r\n  padding: 16rpx 20rpx;\r\n  background-color: #f8f9fa;\r\n  border-radius: 20rpx;\r\n  font-size: 28rpx;\r\n  border: none;\r\n}\r\n\r\n.add-btn {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 16rpx 24rpx;\r\n  background-color: #007AFF;\r\n  color: white;\r\n  border-radius: 20rpx;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.add-icon {\r\n  font-size: 32rpx;\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.room-list {\r\n  flex: 1;\r\n  padding: 20rpx 32rpx;\r\n}\r\n\r\n.room-item {\r\n  background-color: #fff;\r\n  border-radius: 16rpx;\r\n  padding: 32rpx;\r\n  margin-bottom: 20rpx;\r\n  box-shadow: 0 4rpx 12rpx rgba(0,0,0,0.05);\r\n}\r\n\r\n.room-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.room-number {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\n.room-status {\r\n  padding: 8rpx 16rpx;\r\n  border-radius: 20rpx;\r\n  font-size: 24rpx;\r\n  color: white;\r\n}\r\n\r\n.status-available {\r\n  background-color: #52c41a;\r\n}\r\n\r\n.status-rented {\r\n  background-color: #ff4d4f;\r\n}\r\n\r\n.status-maintenance {\r\n  background-color: #faad14;\r\n}\r\n\r\n.room-info, .tenant-info {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.info-item {\r\n  display: flex;\r\n  align-items: center;\r\n  width: 50%;\r\n  margin-bottom: 12rpx;\r\n}\r\n\r\n.label {\r\n  color: #999;\r\n  font-size: 28rpx;\r\n  margin-right: 12rpx;\r\n}\r\n\r\n.value {\r\n  color: #333;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.price {\r\n  color: #ff4d4f;\r\n  font-weight: bold;\r\n}\r\n\r\n.room-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 16rpx;\r\n}\r\n\r\n.action-btn {\r\n  padding: 12rpx 24rpx;\r\n  border-radius: 8rpx;\r\n  font-size: 24rpx;\r\n  border: none;\r\n}\r\n\r\n.edit {\r\n  background-color: #1890ff;\r\n  color: white;\r\n}\r\n\r\n.utilities {\r\n  background-color: #52c41a;\r\n  color: white;\r\n}\r\n\r\n.tenant {\r\n  background-color: #722ed1;\r\n  color: white;\r\n}\r\n\r\n.tenant-end {\r\n  background-color: #ff4d4f;\r\n  color: white;\r\n}\r\n\r\n.load-more {\r\n  text-align: center;\r\n  padding: 40rpx;\r\n  color: #999;\r\n  font-size: 28rpx;\r\n}\r\n\r\n.statistics {\r\n  display: flex;\r\n  background-color: #fff;\r\n  border-top: 1rpx solid #eee;\r\n}\r\n\r\n.stat-item {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 32rpx 0;\r\n}\r\n\r\n.stat-number {\r\n  font-size: 48rpx;\r\n  font-weight: bold;\r\n  color: #007AFF;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.stat-label {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n</style>","import MiniProgramPage from '/Users/peakom/Documents/work/room-list/pages/room-list/room-list.vue'\nwx.createPage(MiniProgramPage)"],"names":["uniCloud","uni"],"mappings":"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"}